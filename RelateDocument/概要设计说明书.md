# 1 引言 

## 1.1 编写目的 

​		在本疫情期间社区管理系统项目的前一阶段，也就是需求分析阶段中，已经将系统用户对本系统的需求做了详细的阐述，这些用户需求已经在上一阶段中对社区管理人员调研中获得，并在软件需求说明书中得到详尽得叙述及阐明。

​		本阶段在系统的需求分析的基础上，对疫情期间社区管理系统做概要设计。主要解决实现该系统需求的程序模块设计问题。包括如何把该系统划分成若干个模块、决定各个模块之间的接口、模块之间传递的信息，以及数据结构、模块结构的设计等。在以下的概要设计报告中将对在本阶段中对系统所做的所有概要设计进行详细的说明。

​		在下一阶段的详细设计中，程序设计员可参考此概要设计报告，在概要设计对本系统所做的模块结构设计的基础上，对系统进行详细设计。在以后的软件测试以及软件维护阶段也可参考此说明书，以便于了解在概要设计过程中所完成的各模块设计结构，或在修改时找出在本阶段设计的不足或错误。

## 1.2背景

​		疫情期间，由于全国各地都实行社区封闭政策，且社区管理人员不足，导致社区人员的出入管理变得十分困难。

​		为了解决以上问题，让疫情期间的社区管理变得更便捷有效。本组人员提出要开发《疫情期间社区管理系统》。

## 1.3 定义 

MySQL：系统服务器所使用的数据库管理系统（DBMS）

SQL: 一种用于访问查询数据库的语言

## 1.4 参考资料 

​	《软件工程理论与实践（第2版）》，王振武著，清华大学出版社，2017.1

​	《软件工程项目实训教程》，吕云翔、刘瀚诚、刘天毅著，清华大学出版社，2016.10 

# 2 总体设计 

## 2.1 需求规定 

​		能够实现注册登录功能，社区住户能够对个人信息进行管理，管理员对住户隔离状态进行管理。住户每天进行疫情信息更新。住户可以申请出入社区，管理员进行审批。住户可以提出物资需求。管理员每天对社区消毒状况进行管理。

​		要求系统能有效，快速，可靠，安全和无误地完成上述操作。

## 2.2 运行环境 

硬件要求：cpu intel酷睿i5 750,内存2g，硬盘250G，建立internet网络

## 2.3 基本设计概念和处理流程 

本系统采用面向过程的设计思想，对处理流程进行分析。

#### 2.3.1 登录注册程序流程

![登录注册](D:\学习资料\软件工程综合实训\daily\程序流程图\登录注册.png)

#### 2.3.2 用户个人信息管理程序流程

![个人信息](D:\学习资料\软件工程综合实训\daily\程序流程图\个人信息.png)

#### 2.3.3 隔离状态管理程序流程

![隔离](D:\学习资料\软件工程综合实训\daily\程序流程图\隔离.png)

#### 2.3.4 住户疫情上报程序流程

![疫情信息上报](D:\学习资料\软件工程综合实训\daily\程序流程图\疫情信息上报.png)

#### 2.3.5 管理员疫情信息管理程序流程

![疫情信息管理](D:\学习资料\软件工程综合实训\daily\程序流程图\疫情信息管理.png)

#### 2.3.6 出入申请程序流程

![出入申请](D:\学习资料\软件工程综合实训\daily\程序流程图\出入申请.png)

#### 2.3.7 出入审批程序流程

![出入申请审核](D:\学习资料\软件工程综合实训\daily\程序流程图\出入申请审核.png)

#### 2.3.8 物资需求上报程序流程

![物资需求](D:\学习资料\软件工程综合实训\daily\程序流程图\物资需求.png)

#### 2.3.9 消毒管理程序流程

![消毒管理](D:\学习资料\软件工程综合实训\daily\程序流程图\消毒管理.png)

## 2.4 结构 

![系统功能层次图](D:\学习资料\软件工程综合实训\daily\系统功能层次图.png)

## 2.5 功能器求与程序的关系

  本条用一张如下的矩阵图说明各项功能需求的实现同各块程序的分配关系：

|              | 用户注册登录程序 | 用户个人信息管理程序 | 隔离状态管理程序 | 住户疫情上报程序 | 管理员疫情信息管理程序 | 出入申请程序 | 出入审批程序 | 物资需求上报程序 | 消毒管理程序 |
| ------------ | ---------------- | -------------------- | ---------------- | ---------------- | ---------------------- | ------------ | ------------ | ---------------- | ------------ |
| 用户管理     | √                | √                    | √                |                  |                        |              |              |                  |              |
| 疫情信息管理 | √                |                      |                  | √                | √                      |              |              |                  |              |
| 社区出入管理 | √                |                      |                  |                  |                        | √            | √            |                  |              |
| 物资管理     | √                |                      |                  |                  |                        |              |              | √                |              |
| 社区消毒管理 | √                |                      |                  |                  |                        |              |              |                  | √            |

## 2.6 人工处理过程

各种需要上传至数据库数据，需要用户在管理系统提供的表格中填写。在填完数据后需要用户进行提交操作。

## 2.7 尚未解决的问题

1.各模块的具体算法实现方式

# 3 接口设计 

## 3.1 用户接口

在用户界面部分，根据需求分析的结果，用户需要一个用户友善界面。在界面设计上，应做到简单明了，易于操作，并且要注意到界面的布局，应突出的显示重要以及出错信息。外观上也要做到合理化，考虑到用户多对WINDOW 风格较熟悉，应尽量向这一方向靠拢。

## 3.2 外部接口 

### 3.2.1 软件接口

使用JDBC来连接MySQL，实现对数据库的所有访问。在网络软件接口方面，使用一种无差错的传输协议，采用滑动窗口方式对数据进行网络传输及接收。

### 3.2.2 硬件接口

对于鼠标与键盘的输入，进行标准的输入处理。

## 3.3 内部接口

内部接口方面，各模块之间采用函数调用、参数传递、返回值的方式进行信息传递。具体参数的结构将在下面数据结构设计的内容中说明。接口传递的信息将是以数据结构封装了的数据，以参数传递或返回值的形式在各模块间传输。

# 4 运行设计 

## 4.1 运行模块组合

​		云端数据库在有输入时启动接收数据模块，通过各模块之间的调用，读入并对输入进行格式化。在接收数据模块得到充分的数据时，将调用网络传输模块，将数据通过网络送到云端数据库，并等待接收服务器返回的信息。接收到返回信息后随即调用数据输出模块，对信息进行处理，产生相应的输出。

服务器程序的接收网络数据模块必须始终处于活动状态。接收到数据后，调用数据处理/查询模块对数据库进行访问。

## 4.2 运行控制 

​		运行控制将严格按照各模块间函数调用关系来实现。在各事务中心模块中，需对运行控制进行正确的判断，选择正确的运行控制路径。

​		在访问管理系统时，本系统会根据登录用户的类型控制用户能访问的模块，严格控制用户的访问权限。

## 4.3 运行时间

​		在软体的需求分析中，对运行时间的要求为必须对作出的操作有较快的反应。网络硬件对运行时间有最大的影响，当网络负载量大时，对操作反应将受到很大的影响。在硬件允许的情况下，本系统各模块组合运行的时间不超过10s。

# 5 系统数据结构设计 

## 5.1 逻辑结构设计要点 

![pdm图](D:\学习资料\软件工程综合实训\daily\pdm图.png)

## 5.2 物理结构设计要点

用户表

| 用户id | 用户地址 | 用户名  | 密码     | 手机号 | 身份证号 |
| ------ | -------- | ------- | -------- | ------ | -------- |
| INT    | varchar  | varchar | password | int    | int      |

用户类型表

| 用户id | 用户类型 |
| ------ | -------- |
| int    | varchar  |

用户信息表

| 用户id | 提交时间 | 病毒感染情况 |
| ------ | -------- | ------------ |
| int    | datetime | tinyint      |

出入申请表

| 用户id | 申请类型 | 进出时间 | 来源地  | 目的地  |
| ------ | -------- | -------- | ------- | ------- |
| int    | varchar  | datetime | varchar | varchar |

审核结果表

| 用户id | 管理员id | 出行时间 | 返回时间 | 目的地  | 审批状态 | 有效状态 |
| ------ | -------- | -------- | -------- | ------- | -------- | -------- |
| int    | int      | datetime | datetime | varchar | varchar  | varchar  |

物资表

| 用户id | 物资名称 | 物资数量 |
| ------ | -------- | -------- |
| int    | varchar  | int      |

消毒进度表

| 地点    | 最近消毒时间 | 消毒进度 |
| ------- | ------------ | -------- |
| varchar | datetime     | varchar  |

## 5.3 数据结构与程序的关系 

 说明各个数据结构与访问这些数据结构的形式:

|            | 用户注册登录程序 | 用户个人信息管理程序 | 隔离状态管理程序 | 住户疫情上报程序 | 管理员疫情信息管理程序 | 出入申请程序 | 出入审批程序 | 物资需求上报程序 | 消毒管理程序 |
| ---------- | ---------------- | -------------------- | ---------------- | ---------------- | ---------------------- | ------------ | ------------ | ---------------- | ------------ |
| 用户表     | √                | √                    | √                | √                | √                      | √            | √            | √                | √            |
| 用户类型表 | √                |                      |                  |                  |                        |              |              |                  |              |
| 用户信息表 |                  |                      | √                | √                | √                      |              |              |                  |              |
| 出入申请表 |                  |                      |                  |                  |                        | √            | √            |                  |              |
| 审核结果表 |                  |                      |                  |                  |                        |              | √            |                  |              |
| 物资表     |                  |                      |                  |                  |                        |              |              | √                |              |
| 消毒进度表 |                  |                      |                  |                  |                        |              |              |                  | √            |

# 6 系统出错处理设计

## 6.1 出错信息 

程序在运行时主要会出现两种错误：1、由于输入信息，或无法满足要求时产生的
错误，称为软错误。2、由于其他问题，如网络传输超时等，产生的问题，称为硬错误。

对于软错误，输入数据验证模块进行数据分析，判断错误类型，再生成相应的错误提示语句，送到输出模块中。

对与硬错误，可在出错的相应模块中输出简单的出错语句，并将程序重置。返回输入阶段。

出错信息必须给出相应的出错原因，例：电话号码格式不正确

## 6.2 补救措施

### a.后备技术

周期性地把云数据库备份到本地，将系统定期备份至本地

### b.降效技术

当系统可视界面无法使用时，可以使用数据库管理程序远程对数据库进行增删改查

### c.恢复再启动技术

将数据库或系统备份重新部署至云服务器，然后重新启动

## 6.3 系统维护设计 

维护方面主要为对服务器上的数据库数据进行维护。可使用 MySQL 相关数据库管理程序进行维护。例如，定期为数据库进行Backup，维护管理数据库死锁问题和维护数据库内数据的一致性等。

