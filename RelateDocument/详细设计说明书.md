# 1. 引言

## 1.1 编写目的   

此说明书在概要设计的基础上，对疫情期间社区管理系统各个模块，程序分别进行了实现层面上的要求和说明。在以下的详细设计报告中将对在本阶段中对系统所做的所有详细设计进行说明。

主要工作包括：根据软件需求说明书所描述的数据，功能，运行，性能，需求，并依照概要设计说明书所确定的处理流程、总体设计、软件系统的结构设计，逐个模块的程序描述（包括各模块的功能、性能、输入、输出、算法、程序逻辑、接口等）。

软件开发小组的产品实现成员应该阅读和参考此说明书，从而进行代码的编写，测试。

## 1.2 背景

​		疫情期间，由于全国各地都实行社区封闭政策，且社区管理人员不足，导致社区人员的出入管理变得十分困难。

​		为了解决以上问题，让疫情期间的社区管理变得更便捷有效。本组人员提出要开发《疫情期间社区管理系统》。

## 1.3 定义

​		程序流程图：程序流程图又称程序框图，是用统一规定的标准符号描述程序运行具体步骤的图形表示。程序框图的设计是在处理流程图的基础上，通过对输入输出数据和处理过程的详细分析，将计算机的主要运行步骤和内容标识出来。程序框图是进行程序设计的最基本依据，因此它的质量直接关系到程序设计的质量。

​		详细设计：详细设计，是软件工程中软件开发的一个步骤，就是对概要设计的一个细化，就是详细设计每个模块实现算法，所需的局部结构。在详细设计阶段，主要是通过需求分析的结果，设计出满足用户需求的软件系统产品。

## 1.4 参考资料

​	《软件工程理论与实践（第2版）》，王振武著，清华大学出版社，2017.1

​	《软件工程项目实训教程》，吕云翔、刘瀚诚、刘天毅著，清华大学出版社，2016.10 

# 2. 程序系统的结构

   ![img](https://github.com/sunglo702/CMS_COVID/raw/main/image/syslevel.png)


# 3. 程序1（用户登录注册）设计说明 

##  3.1 程序描述

​		本程序是进入系统前必须进行的一个程序，目的是验证用户身份，系统将根据登录的用户类别展示不同的功能。程序特点：非常驻内存、是子程序、顺序处理。

## 3.2 功能

​		程序功能：用户注册与登录

IPO图

| 程序名称:用户注册登录                         |                                                              | 使用人:用户 |
| --------------------------------------------- | ------------------------------------------------------------ | ----------- |
| 输入                                          | 处理                                                         | 输出        |
| 1.利用权限打开数据库 <br />2.输入用户名、密码 | 如果用户名已注册，则判断密码是否正确，若密码正确则结束，否则返回信息：“用户名或密码错误”。如果用户名未注册，则将用户名注册进数据库。 | 进入系统    |

## 3.3 性能

####   精度 

   输入数据精度：99.999%

​	输出数据精度：99.999%

####  时间特性要求 

a．响应时间：<=10s

b．更新处理时间：<=10s

c．数据的转换和传送时间：<=10s

d．解题时间：<=10s

####   灵活性 

a．操作方式上的变化：适应各种操作方式

b．运行环境的变化：适应电脑手机等环境

## 3.4 输入项

| 名称   | 数据类型 | 数据格式 | 输入方式 | 数量 | 输入数据来源 |
| ------ | -------- | -------- | -------- | ---- | ------------ |
| 用户名 | char     | varchar  | 键盘     | 1    | 用户         |
| 密码   | char     | password | 键盘     | 1    | 用户         |

## 3.5 输出项

 本子程序没有输出项。

## 3.6 算法

无。

## 3.7 流程逻辑

![img](https://github.com/sunglo702/CMS_COVID/raw/yzq_dev/WorkWeekReport/Week02/pfchart/signin.png)

## 3.8 接口

| 上一层模块   | 关联数据库 |
| ------------ | ---------- |
| 用户管理模块 | user，role |



## 3.9 存储分配

本程序在高级语言JAVA进行编码，直接的内存分配由JAVA运行时分配。

##  3.10 注释设计

在代码的适当出有中文代码注释。

## 3.11 限制条件

无

## 3.12 测试计划

| 输入数据                     | 预期结果                   | 进度安排          | 人员职责 |
| ---------------------------- | -------------------------- | ----------------- | -------- |
| 用户名：admin 密码：123456   | 登录成功                   | 12月10日-12月12日 | 严志强   |
| 用户名：admin 密码：password | 登录失败，用户名或密码错误 | 12月10日-12月12日 | 严志强   |
| 用户名：yanzq 密码：123456   | 注册成功                   | 12月10日-12月12日 | 严志强   |
| 用户名：yanzq 密码：123456   | 登录成功                   | 12月10日-12月12日 | 严志强   |



## 3.13 尚未解决的问题

无

# 4. 程序2（用户信息上报）设计说明

##  4.1 程序描述

​		本程序是提交用户上报信息的一个程序，目的是上报用户信息，系统将根据登录的用户类别展示不同的功能。程序特点：非常驻内存、是子程序、顺序处理。

## 4.2 功能

​		程序功能：用户信息的上报

IPO图

| 程序名称:用户注册登录                                     |                                                              | 使用人:用户  |
| --------------------------------------------------------- | ------------------------------------------------------------ | ------------ |
| 输入                                                      | 处理                                                         | 输出         |
| 1.利用权限打开数据库 &lt;br /&gt;2.输入姓名，是否发症状等 | 输入个人相关信息，并校验信息格式，核查成功后上报成功，返回到上报列表界面，否则失败。 | 返回上报列表 |

## 4.3 性能

####   精度 

   输入数据精度：99.999%

​	输出数据精度：99.999%

####  时间特性要求 

a．响应时间：<=10s

b．更新处理时间：<=10s

c．数据的转换和传送时间：<=10s

d．解题时间：<=10s

####   灵活性 

a．操作方式上的变化：适应各种操作方式

b．运行环境的变化：适应电脑手机等环境

## 4.4 输入项

| 名称     | 数据类型 | 数据格式 | 输入方式 | 数量 | 输入数据来源 |
| -------- | -------- | -------- | -------- | ---- | ------------ |
| 姓名     | char     | varchar  | 键盘     | 1    | 用户         |
| 是否染病 | char     | varchar  | 键盘     | 1    | 用户         |
| 现状     | char     | varchar  | 键盘     | 1    | 用户         |

## 4.5 输出项

 本子程序没有输出项。

## 4.6 算法

无。

## 4.7 流程逻辑

![img](https://raw.githubusercontent.com/sunglo702/CMS_COVID/yzq_dev/WorkWeekReport/Week02/pfchart/vinfo_repo.png)

## 4.8 接口

| 上一层模块   | 关联数据库       |
| ------------ | ---------------- |
| 用户管理模块 | user，role, info |



## 4.9 存储分配

本程序在高级语言JAVA进行编码，直接的内存分配由JAVA运行时分配。

##  4.10 注释设计

- 加在模块首部的注释
- 加在各分枝点处的注释；
- 对各变量的功能、范围，缺省条件等所加的注释；
- 对使用的逻辑所加的注释等等。

## 4.11 限制条件

无

## 4.12 测试计划

| 输入数据                                          | 预期结果                 | 进度安排          | 人员职责 |
| ------------------------------------------------- | ------------------------ | ----------------- | -------- |
| 姓名:hadoo 是否染病: false 现状: normal           | 提交成功                 | 12月10日-12月12日 | 韩雪峰   |
| 姓名:asdf 是否染病: true 现状: 发热               | 提交成功                 | 12月10日-12月12日 | 韩雪峰   |
| 姓名:pdf[*9~ 是否染病: false 现状: normal         | 失败，姓名格式不正确     | 12月10日-12月12日 | 韩雪峰   |
| 姓名:hadoo 是否染病: dsafjsadf9uas98 现状: normal | 失败，是否染病状态不正确 | 12月10日-12月12日 | 韩雪峰   |

## 4.13 尚未解决的问题

无

# 5. 程序3（用户出入申请）设计说明

##  5.1 程序描述

​		本程序是用户出入申请请假的程序，目的是提交用户请假申请，并上报给管理员等待管理员的审批，系统将根据登录的用户类别展示不同的功能。程序特点：非常驻内存、是子程序、顺序处理。

## 5.2 功能

​		程序功能：用户信息的上报

IPO图

| 程序名称:用户注册登录                                     |                                                              | 使用人:用户  |
| --------------------------------------------------------- | ------------------------------------------------------------ | ------------ |
| 输入                                                      | 处理                                                         | 输出         |
| 1.利用权限打开数据库 &lt;br /&gt;2.输入姓名，是否发症状等 | 输入个人请假信息，并校验信息格式，核查成功后上报成功，返回到请假列表界面，否则失败。 | 返回上报列表 |

## 5.3 性能

####   精度 

   输入数据精度：99.999%

​	输出数据精度：99.999%

####  时间特性要求 

a．响应时间：<=10s

b．更新处理时间：<=10s

c．数据的转换和传送时间：<=10s

d．解题时间：<=10s

####   灵活性 

a．操作方式上的变化：适应各种操作方式

b．运行环境的变化：适应电脑手机等环境

## 5.4 输入项

| 名称     | 数据类型 | 数据格式 | 输入方式 | 数量 | 输入数据来源 |
| -------- | -------- | -------- | -------- | ---- | ------------ |
| 姓名     | char     | varchar  | 键盘     | 1    | 用户         |
| 是否染病 | char     | varchar  | 键盘     | 1    | 用户         |
| 现状     | char     | varchar  | 键盘     | 1    | 用户         |

## 5.5 输出项

 本子程序没有输出项。

## 5.6 算法

无。

## 5.7 流程逻辑

![img](https://raw.githubusercontent.com/sunglo702/CMS_COVID/yzq_dev/WorkWeekReport/Week02/pfchart/access.png)

## 5.8 接口

| 上一层模块   | 关联数据库         |
| ------------ | ------------------ |
| 用户管理模块 | user，role, access |



## 5.9 存储分配

本程序在高级语言JAVA进行编码，直接的内存分配由JAVA运行时分配。

##  5.10 注释设计

- 加在模块首部的注释
- 加在各分枝点处的注释；
- 对各变量的功能、范围，缺省条件等所加的注释；
- 对使用的逻辑所加的注释等等。

## 5.11 限制条件

无

## 5.12 测试计划

| 输入数据                                                     | 预期结果               | 进度安排          | 人员职责 |
| ------------------------------------------------------------ | ---------------------- | ----------------- | -------- |
| 姓名:hadoo 出入类型：out 从哪来：from 到哪去：to             | 提交成功               | 12月10日-12月12日 | 韩雪峰   |
| 姓名:hadoo 出入类型：out 从哪来：dsjafioajsd(此处省略300字符)adofjipdsaof 到哪去：to | 提交失败，超过最大长度 | 12月10日-12月12日 | 韩雪峰   |
| 姓名:hxf 出入类型：in 从哪来： 到哪去：                      | 失败，输入不能为空     | 12月10日-12月12日 | 韩雪峰   |
| 姓名: <script>for(var i=0;i<1000;i++){alert("测试xss"+i);}</script>出入类型：in 从哪来：dsaf 到哪去：fas | 失败，浏览器弹出窗口   | 12月10日-12月12日 | 韩雪峰   |

## 5.13 尚未解决的问题

无

# 6. 程序6（出入审批）设计说明 

##  6.1 程序描述

​		本程序是系统对于用户提交的出入申请进行审核的程序。程序特点：非常驻内存、是子程序、顺序处理。

## 6.2 功能

​		程序功能：用户出入申请审批

IPO图

| 程序名称:出入审批                                            |                                    | 使用人:用户          |
| ------------------------------------------------------------ | ---------------------------------- | -------------------- |
| 输入                                                         | 处理                               | 输出                 |
| 1.利用权限打开数据库 <br />2.读取access表<br/>3.输入审批意见 | 根据审批意见，将相关信息写入审批表 | 将审批信息写入审批表 |

## 6.3 性能

####   精度 

   输入数据精度：99.999%

​	输出数据精度：99.999%

####  时间特性要求 

a．响应时间：<=10s

b．更新处理时间：<=10s

c．数据的转换和传送时间：<=10s

d．解题时间：<=10s

####   灵活性 

a．操作方式上的变化：适应各种操作方式

b．运行环境的变化：适应电脑手机等环境

## 6.4 输入项

| 名称     | 数据类型 | 数据格式 | 输入方式   | 数量 | 输入数据来源 |
| -------- | -------- | -------- | ---------- | ---- | ------------ |
| 审批意见 | char     | varchar  | 按钮，鼠标 | 1    | 管理员       |

## 6.5 输出项

| 名称       | 标识     | 数据类型 | 数据格式 | 输出形式 |
| ---------- | -------- | -------- | -------- | -------- |
| 申请时间   | date     | datetime | datetime | 数据库表 |
| 申请用户id | user_id  | int      | int      | 数据库表 |
| 审批状态   | stat     | char     | varchar  | 数据库表 |
| 审批人id   | admin_id | int      | int      | 数据库表 |

## 6.6 流程逻辑

![img](https://raw.githubusercontent.com/sunglo702/CMS_COVID/yzq_dev/WorkWeekReport/Week02/pfchart/accheck.png)

## 6.7 接口

| 上一层模块 | 关联数据库                  |
| ---------- | --------------------------- |
| 出入管理   | user，role，access，approve |

## 6.8 存储分配

本程序在高级语言JAVA进行编码，直接的内存分配由JAVA运行时分配。

##  6.9 注释设计

在代码的适当出有中文代码注释。

## 6.10 测试计划

| 输入数据 | 预期结果                   | 进度安排          | 人员职责 |
| -------- | -------------------------- | ----------------- | -------- |
| 同意     | 用户申请程序显示通过审批   | 12月12日-12月13日 | 严志强   |
| 拒绝     | 用户申请程序显示未通过审批 | 12月12日-12月13日 | 严志强   |

# 7 程序7（物资管理）设计说明 

## 7.1 程序描述 

本程序的目的是便于管理居民的物资需求，居民可以将自己所需的物资需求上传至系统中。

程序特点：非常驻内存，是子程序，顺序处理

## 7.2 功能 

功能：居民的物资需求上报

IPO图

| 程序名称:物资管理                             |                                | 使用人:用户              |
| --------------------------------------------- | ------------------------------ | ------------------------ |
| 输入                                          | 处理                           | 输出                     |
| 1.利用权限打开数据库 <br />2.填写所需物资信息 | 将所需物资的各种信息写入数据库 | 数据库中增加相应物资信息 |

## 7.3 性能

####   精度 

   输入数据精度：99.999%

​	输出数据精度：99.999%

####  时间特性要求 

a．响应时间：<=10s

b．更新处理时间：<=10s

c．数据的转换和传送时间：<=10s

d．解题时间：<=10s

####   灵活性 

a．操作方式上的变化：适应各种操作方式

b．运行环境的变化：适应电脑手机等环境

## 7.4 输入项

| 名称     | 数据类型 | 数据格式 | 输入方式 | 数量 | 输入数据来源 |
| -------- | -------- | -------- | -------- | ---- | ------------ |
| 物资名称 | char     | varchar  | 键盘     | 1    | 用户         |
| 物资数量 | int      | int      | 键盘     | 1    | 用户         |

## 7.5 输出项

| 名称     | 数据类型 | 数据格式 | 输出方式 | 数量 |
| -------- | -------- | -------- | -------- | ---- |
| 物资名称 | char     | varchar  | 数据库   | 1    |
| 物资数量 | int      | int      | 数据库   | 1    |

## 7.6 流程逻辑

![img](https://raw.githubusercontent.com/sunglo702/CMS_COVID/yzq_dev/WorkWeekReport/Week02/pfchart/supplies.png)

## 7.7 接口

| 上一层模块 | 关联数据库     |
| ---------- | -------------- |
| 物资管理   | user，supplies |

## 7.8 存储分配

本程序在高级语言JAVA进行编码，直接的内存分配由JAVA运行时分配。

## 7.9 注释设计

在代码的适当出有中文代码注释。

## 7.10 测试计划

| 输入数据                     | 预期结果 | 进度安排          | 人员职责 |
| ---------------------------- | -------- | ----------------- | -------- |
| 物资名称：口罩 物资数量：10  | 提交成功 | 12月14日-12月15日 | 严志强   |
| 物资名称：感冒药 物资数量：1 | 提交成功 | 12月14日-12月15日 | 严志强   |

